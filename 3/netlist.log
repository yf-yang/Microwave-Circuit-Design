; Top Design: "3_lib:LNA_v4_feedback_test:schematic"
; Netlisted using Hierarchy Policy: "Standard"

Options ResourceUsage=yes UseNutmegFormat=no EnableOptim=no TopDesignName="3_lib:LNA_v4_feedback_test:schematic" DcopOutputNodeVoltages=yes DcopOutputPinCurrents=yes DcopOutputAllSweepPoints=no DcopOutputDcopType=0
Port:Term2  N__10 0 Num=2 Z=50 Ohm Noise=yes 
Port:Term1  N__32 0 Num=1 Z=50 Ohm Noise=yes 
MLIN2:TL1  N__25 N__40 Subst="MSub1" W=1.8825 mm L=5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL6  N__36 N__8 Subst="MSub1" W=1.8825 mm L=5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL5  N__19 N__13 Subst="MSub1" W=w41 mm L=l33 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLEF2:TL7  N__14 Subst="MSub1" W=w43 mm L=l43 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MTEE:Tee4  N__19 N__21 N__14 Subst="MSub1" W1=w41 mm W2=w42 mm W3=w43 mm 
R:R2  Vcc N__28 R=445 Ohm Noise=yes 
C:C2  N__8 N__24 C=50 pF 
DC:DC1 StatusLevel=2 DevOpPtLevel=0 UseFiniteDiff=no PrintOpPoint=no Restart=1 \
OutputPlan="DC1_Output" 

OutputPlan:DC1_Output \
      Type="Output" \
      UseNodeNestLevel=yes \
      NodeNestLevel=2 \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2 \
      UseDeviceCurrentNestLevel=no \
      DeviceCurrentNestLevel=0 \
      DeviceCurrentDeviceType="All" \
      DeviceCurrentSymSyntax=yes \
      UseCurrentNestLevel=yes \
      CurrentNestLevel=999 \
      UseDeviceVoltageNestLevel=no \
      DeviceVoltageNestLevel=0 \
      DeviceVoltageDeviceType="All"

OptimGoal:OptimGoal5 Expr="nf(2)" SimInstanceName="SP2" Weight=2 \
IndepVar[1]="freq" \
SpecLimitLine[1]="OptimGoal5_limit1" 
SpecLimitLine:"OptimGoal5_limit1" Type="LessThan" Max=1.7 Weight=1 \
IndepVar[1]="freq" IndepMin[1]=1.4 GHz IndepMax[1]=1.5 GHz 
OptimGoal:OptimGoal4 Expr="dB(S(2,2))" SimInstanceName="SP2" Weight=1 \
IndepVar[1]="freq" \
SpecLimitLine[1]="OptimGoal4_limit1" 
SpecLimitLine:"OptimGoal4_limit1" Type="LessThan" Max=-10 Weight=1 \
IndepVar[1]="freq" IndepMin[1]=1.4 GHz IndepMax[1]=1.5 GHz 
OptimGoal:OptimGoal3 Expr="dB(S(1,1))" SimInstanceName="SP2" Weight=0.5 \
IndepVar[1]="freq" \
SpecLimitLine[1]="OptimGoal3_limit1" 
SpecLimitLine:"OptimGoal3_limit1" Type="LessThan" Max=-8 Weight=1 \
IndepVar[1]="freq" IndepMin[1]=1.4 GHz IndepMax[1]=1.5 GHz 
OptimGoal:OptimGoal2 Expr="dB(S(2,1))" SimInstanceName="SP2" Weight=1 \
IndepVar[1]="freq" \
SpecLimitLine[1]="OptimGoal2_limit1" 
SpecLimitLine:"OptimGoal2_limit1" Type="GreaterThan" Min=12 Weight=1 \
IndepVar[1]="freq" IndepMin[1]=1.4 GHz IndepMax[1]=1.5 GHz 
S_Param:SP2 CalcS=yes CalcY=no CalcZ=no GroupDelayAperture=1e-4 FreqConversion=no FreqConversionPort=1 StatusLevel=2 CalcNoise=yes SortNoise=0 BandwidthForNoise=1.0 Hz DevOpPtLevel=0 \
SweepVar="freq" SweepPlan="SP2_stim" OutputPlan="SP2_Output" 

SweepPlan: SP2_stim Start=1.1 GHz Stop=1.8 GHz Step=0.05 GHz 

OutputPlan:SP2_Output \
      Type="Output" \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2

#load "python","LinearCollapse"
Component Module="LinearCollapse" Type="ModelExtractor" NetworkRepresentation=2
OptimGoal:OptimGoal1 Expr="StabFact1" SimInstanceName="SP1" Weight=1 \
IndepVar[1]="freq" \
SpecLimitLine[1]="OptimGoal1_limit1" 
SpecLimitLine:"OptimGoal1_limit1" Type="GreaterThan" Min=0.8 Weight=1 \
IndepVar[1]="freq" IndepMin[1]=500 MHz IndepMax[1]=5 GHz 
MLIN2:TL20  N__35 N__9 Subst="MSub1" W=1.8825 mm L=2 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 

Optim:"Optim1" OptimType="simulated_annealing" ErrorForm="L2" MaxIters=5000 P=2 DesiredError=0.0 StatusLevel=4 FinalAnalysis="None" NormalizeGoals=yes SetBestValues=yes SaveSolns=yes SaveGoals=yes SaveOptimVars=no UpdateDataset=yes SaveNominal=no SaveAllIterations=no UseAllOptVars=yes UseAllGoals=yes SaveCurrentEF=no InitialTempControlMode=0 NumShootsPerIter=20 EnableCockpit=yes NormalizeError=yes SaveAllTrials=no UseAdvTermCriteria=no CostRelativeTol=1.0e-8 LimitOfContSmallImprovement=5 

C:C1  N__25 N__5 C=50 pF 
aele Zin2=zin(S22,PortZ2);
#uselib "RfTransistorLibrary" , "pb_hp_AT32032_19980529"
pb_hp_AT32032_19980529:Q1  N__35 N__6 ve 
aele StabFact1=stab_fact(S);
model MSub1 MSUB H=1 mm Er=4.4 Mur=1 Cond=5.88E+7 Hu=1.0e+033 mm T=0.03 mm TanD=0.02 Rough=0 mm DielectricLossModel=1 FreqForEpsrTanD=1.0 GHz LowFreqForTanD=1.0 kHz HighFreqForTanD=1.0 THz RoughnessModel=2 
MLIN2:TL4  ve 0 Subst="MSub1" W=we mm L=0 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
aele Zin1=zin(S11,PortZ1);

;#@# autodisplay="S_Params_Quad_dB_Smith"
S_Param:SP1 CalcS=yes CalcY=no CalcZ=no GroupDelayAperture=1e-4 FreqConversion=no FreqConversionPort=1 StatusLevel=2 CalcNoise=yes SortNoise=0 BandwidthForNoise=1.0 Hz DevOpPtLevel=0 \
SweepVar="freq" SweepPlan="SP1_stim" OutputPlan="SP1_Output" 

SweepPlan: SP1_stim Start=0.1 GHz Stop=5 GHz Step=0.1 GHz 

OutputPlan:SP1_Output \
      Type="Output" \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2

#load "python","LinearCollapse"
Component Module="LinearCollapse" Type="ModelExtractor" NetworkRepresentation=2

w12=1.5 opt{ discrete 1.5 to 6 by 0.01 }
w13=0.500733 opt{ 0.5 to 5 }
w21=2.81222 opt{ 1 to 5 }
w41=0.505332 opt{ 0.5 to 5 }
w43=0.5009 opt{ 0.5 to 5 }
we=2.06176 opt{ 1 to 5 }
l13=5.00001 opt{ 5 to 30 }
l12=9.99999 opt{ 5 to 10 }
l33=9.97171 opt{ 5 to 10 }
l43=10.041 opt{ 10 to 30 }
w42=1.52 opt{ discrete 1.5 to 6 by 0.01 }
l42=14.82 opt{ discrete 5 to 30 by 0.01 }
w53=3.32 opt{ discrete 1.5 to 6 by 0.01 }
l53=10.74 opt{ discrete 5 to 30 by 0.01 }
le=7.35125 noopt{ 10 to 10 }
MTEE_ADS:Tee2  N__22 N__15 N__30 Subst="MSub1" W1=1.8825 mm W2=w12 mm W3=0.254 mm 
MTEE:Tee3  N__9 N__13 N__18 Subst="MSub1" W1=1.8825 mm W2=w41 mm W3=0.254 mm 
MLIN2:TL14  N__30 N__12 Subst="MSub1" W=0.254 mm L=30.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL15  N__28 N__18 Subst="MSub1" W=0.254 mm L=30.5 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
C:C3  N__12 0 C=0.1 uF 
C:C4  N__28 0 C=0.1 uF 
C:C6  Vcc 0 C=22 uF 
C:C5  Vcc 0 C=0.1 uF 
V_Source:SRC1  N__11 0 Type="V_DC" Vdc=5.0 V SaveCurrent=1 
R:R1  N__28 N__12 R=34500 Ohm Noise=yes 
R:R3  N__11 Vcc R=10 Ohm Noise=yes 
MLIN2:TL21  N__24 N__10 Subst="MSub1" W=1.8825 mm L=9 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL22  N__5 N__32 Subst="MSub1" W=1.8825 mm L=9 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL23  N__22 N__6 Subst="MSub1" W=1.8825 mm L=2 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MLIN2:TL24  N__21 N__29 Subst="MSub1" W=w42 mm L=l42 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MTEE:Tee5  N__29 N__36 N__4 Subst="MSub1" W1=w42 mm W2=1.8825 mm W3=w53 mm 
MLEF2:TL25  N__4 Subst="MSub1" W=w53 mm L=l53 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
MTEE:Tee6  N__40 N__38 w12 Subst="MSub1" W1=1.8825 mm W2=w12 mm W3=w13 mm 
MLEF2:TL26  w12 Subst="MSub1" W=w13 mm L=l13 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm tune{ 125 mm to 3.752e+32 mm logScale } Mod=1 
MLIN2:TL27  N__38 N__15 Subst="MSub1" W=w12 mm L=l12 mm Wall1=2.5e+28 mm Wall2=2.5e+28 mm Mod=1 
